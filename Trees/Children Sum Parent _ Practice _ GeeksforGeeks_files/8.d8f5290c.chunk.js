(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[8],{154:function(t,e,a){"use strict";a.r(e);var n=a(50),c=a(51),o=a(56),s=a(55),i=a(0),r=a(61),d=a(57),l=a(43),u=a.n(l),b=a(47),m=a(44),j=a(42),f=a(2),p=a(105),h=(a(91),a(71)),O=a(48),x=a(72),v=a(68),w=a(52),g=a(54),N=a(106),k=a(1);var y=Object(f.g)((function(t){var e=Object(i.useState)(!0),a=Object(j.a)(e,2),n=a[0],c=a[1],o=Object(i.useState)(),s=Object(j.a)(o,2),l=s[0],f=s[1],y=Object(i.useState)(""),S=Object(j.a)(y,2),C=S[0],R=S[1],D=Object(i.useState)(!1),E=Object(j.a)(D,2),L=E[0],_=E[1],U=Object(i.useState)(""),M=Object(j.a)(U,2),I=M[0],A=M[1],P=Object(i.useState)(),J=Object(j.a)(P,2),K=J[0],T=J[1],V=Object(i.useState)("time"),H=Object(j.a)(V,2),Y=H[0],q=H[1],z=Object(i.useState)("dsc"),B=Object(j.a)(z,2),F=B[0],G=B[1],Q=Object(i.useState)(),W=Object(j.a)(Q,2),X=W[0],Z=W[1],$=Object(i.useState)(!1),tt=Object(j.a)($,2),et=tt[0],at=tt[1],nt=Object(i.useState)(""),ct=Object(j.a)(nt,2),ot=ct[0],st=ct[1],it=Object(i.useState)(!1),rt=Object(j.a)(it,2),dt=rt[0],lt=rt[1],ut=Object(i.useState)(!1),bt=Object(j.a)(ut,2),mt=bt[0],jt=bt[1],ft=Object(i.useState)(void 0),pt=Object(j.a)(ft,2),ht=pt[0],Ot=pt[1],xt=Object(i.useState)([]),vt=Object(j.a)(xt,2),wt=vt[0],gt=vt[1];Mt.bind(this),Pt.bind(this);var Nt=new URLSearchParams(t.location.search).get("rel"),kt=t.match.params.postTitle,yt=t.match.params.domainName,St=Object(i.useRef)(),Ct=Object(i.useRef)();function Rt(){return(Rt=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.c)().then((function(t){T(Object(b.a)({},t.data))})).catch((function(t){var e,a;403===(null===(e=t.response)||void 0===e?void 0:e.status)&&"Session Expired"==(null===(a=t.response.data)||void 0===a?void 0:a.detail)||(st("Unable to fetch user details..."),lt(!0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Dt(t){return Et.apply(this,arguments)}function Et(){return(Et=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return at(!0),a&&f(),e.next=4,Object(O.b)(Y,F,t.match.params.postId,a?"":I,"",void 0,yt).then((function(t){var e=[];t.data.data.comments.forEach((function(t,a){e.push(t.comment_id)})),gt(e),f(a?t.data.data.comments:[].concat(Object(d.a)(l),Object(d.a)(t.data.data.comments))),c(t.data.LastEvaluatedKey),A(t.data.LastEvaluatedKey),Ot(t.data.total_comments)})).catch((function(t){st("Unable to fetch comments..."),jt(!0)}));case 4:at(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(){return(Lt=Object(m.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:wt.length&&_t(wt,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _t(t,e){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(m.a)(u.a.mark((function t(e,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.d)(e).then((function(t){Z(a?t.data:Object(b.a)(Object(b.a)({},X),t.data))})).catch((function(t){st("Unable to fetch Vote Status..."),lt(!0)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(t){return It.apply(this,arguments)}function It(){return(It=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),n=!1,e.next=4,Object(O.f)(a,"",yt,t.match.params.postId,Nt,kt).then((function(t){Z(Object(b.a)(Object(b.a)({},X),{},Object(r.a)({},t.data.comment_id,{vote_type:0}))),f(l?[t.data].concat(Object(d.a)(l)):[t.data]),n=!0})).catch((function(t){st("Unable to add comment... Please try again later !!"),lt(!0)}));case 4:return _(!1),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(i.useEffect)((function(){Object(v.b)()})),Object(i.useEffect)((function(){!function(){Rt.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){A(""),Dt(!0)}),[Y,F]),Object(i.useEffect)((function(){l&&K&&function(t){Lt.apply(this,arguments)}(!0)}),[l,K]);var At=function(t,e,a){R(e),e.includes("<img")||a.trim().length?_(!1):_(!0)};function Pt(t,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(m.a)(u.a.mark((function t(e,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!=Y&&q(e),a&&G(a);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(k.jsxs)("section",{ref:St,id:"comment-sys",children:[Object(k.jsx)(x.a,{orderData:Pt.bind(this),totalComments:ht}),function(){return mt?Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:ot})}):l?Object(k.jsxs)("div",{children:[K&&!K.is_ban&&Object(k.jsx)(h.a,{saveComment:Mt.bind(this),disableSubmit:L,userData:K,onEditorChange:At,height:100,commentData:C}),dt&&Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:ot})}),!l.length&&Object(k.jsx)("p",{className:"text-center text-secondary mt-3",children:"No Comments to load"}),l.map((function(t,e){return Object(k.jsx)("div",{children:Object(k.jsx)(p.a,{comment:t,userData:K,voteStatus:X?X[t.comment_id]:null})},t.comment_id)})),!!n&&!!l.length&&Object(k.jsx)("div",{className:"d-flex justify-content-center mb-3 mt-2",children:Object(k.jsx)("button",{disabled:et,onClick:function(){Dt(!1)},className:"btn btn-light sofia-pro font-weight-bold",children:"Load More Comments"})})]}):Object(k.jsx)("section",{className:"ml-15 mr-15",children:Object(k.jsx)(N.a,{})})}(),Object(k.jsx)("button",{ref:Ct,id:"back-to-top",className:"btn back-to-top d-none",onClick:function(){Object(v.a)(St)},children:Object(k.jsx)(w.a,{className:"text-white",icon:g.b})})]})})),S=function(t){Object(o.a)(i,t);var e=Object(s.a)(i);function i(t){var a;return Object(n.a)(this,i),(a=e.call(this,t)).state={},a}return Object(c.a)(i,[{key:"componentDidMount",value:function(){"dark"===new URLSearchParams(window.location.search).get("mode")&&a.e(9).then(a.t.bind(null,151,7))}},{key:"render",value:function(){return Object(k.jsx)("section",{children:Object(k.jsx)(y,{})})}}]),i}(i.Component);e.default=S},68:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return s}));var n=a(19),c=a.n(n);function o(t){t.current.scrollIntoView({behavior:"smooth"})}function s(){window.onscroll=function(){window.pageYOffset>document.documentElement.clientHeight?c()("#back-to-top").removeClass("d-none"):c()("#back-to-top").addClass("d-none")}}},72:function(t,e,a){"use strict";var n=a(42),c=a(0),o=a(12),s=a(2),i=a(1);e.a=Object(s.g)((function(t){var e=t.orderData,a=t.fireDomainChange,s=Object(c.useState)("Most Recent"),r=Object(n.a)(s,2),d=r[0],l=r[1],u=Object(c.useState)("All Domains"),b=Object(n.a)(u,2),m=b[0],j=b[1],f=encodeURIComponent(t.match.params.domainName),p=encodeURIComponent(t.match.params.postId);return Object(c.useEffect)((function(){}),[]),Object(i.jsx)("section",{className:"ml-15 mr-15",children:Object(i.jsx)("div",{className:"px-0 mb-3",children:Object(i.jsx)("div",{className:"d-flex mx-0",children:Object(i.jsxs)("div",{className:"col-12 px-0",children:[Object(i.jsxs)("h5",{className:"float-left font-weight-bold headingStyle sofia-pro",children:["Discussions",!!t.totalComments&&Object(i.jsxs)("span",{className:"text-secondary ml-2 h6",children:[" ( ",t.totalComments," Threads )"]}),!t.dashboard&&Object(i.jsx)(o.b,{target:"_blank",to:{pathname:"/dashboard?utm-source=".concat(f,"&utm-campaign=").concat(p,"&utm-event=comment-thread")},children:Object(i.jsx)("img",{className:"ml-2 pb-1 external-link-icon",alt:"Click to open dashboard",src:"https://media.geeksforgeeks.org/img-practice/external_link-1629374313.svg"})})]}),Object(i.jsx)("div",{className:"float-right",children:Object(i.jsxs)("div",{className:"dropdown",children:[Object(i.jsx)("button",{className:"sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:d}),Object(i.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(i.jsx)("button",{onClick:function(){l("Most Recent"),e("time","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Recent"}),Object(i.jsx)("button",{onClick:function(){l("Least Recent"),e("time","asc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Least Recent"}),Object(i.jsx)("button",{onClick:function(){l("Most Rated"),e("votes","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Rated"})]})]})}),Object(i.jsx)("div",{className:"float-right",children:t.dashboard&&t.domainList&&Object(i.jsxs)("div",{className:"dropdown",children:[Object(i.jsx)("button",{className:"w-100 sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:m}),Object(i.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(i.jsx)("button",{onClick:function(){j("All Domains"),a("")},className:"dropdown-item font-weight-bold sofia-pro",children:"All Domains"}),t.domainList.map((function(t,e){return Object(i.jsx)("button",{onClick:function(){j(t),a(t)},className:"dropdown-item font-weight-bold sofia-pro",children:t},e)}))]})]})})]})})})})}))}}]);
//# sourceMappingURL=8.d8f5290c.chunk.js.map