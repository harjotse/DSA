(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[1],{106:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));n(133),n(0);var a=n(1),r=function(){return Object(a.jsx)("div",{className:"shimmer-wrapper",children:Object(a.jsx)("div",{className:"shimmer"})})};var c=function(e){var t=e.type,n="skeleton ".concat(t);return Object(a.jsx)("div",{className:n,children:Object(a.jsx)(r,{})})};function i(e){for(var t=[],n=0;n<e;n++)n%2===0?t.push(Object(a.jsx)(c,{type:"genericLineStyles sm"})):t.push(Object(a.jsx)(c,{type:"genericLineStyles md"}));return t}function s(){return Object(a.jsx)(c,{type:"genericLineStyles lg"})}function o(e){return Object(a.jsxs)("div",{className:"d-flex w-100",children:[Object(a.jsx)(c,{type:"genericLineStyles ".concat(e.type)}),Object(a.jsx)("div",{className:"ml-2",children:Object(a.jsx)(c,{type:"genericLineStyles ".concat(e.type)})})]})}function u(){var e=[];e.push(s());for(var t=0;t<5;t++)e.push(Object(a.jsxs)("div",{className:"d-flex mt-5",children:[Object(a.jsx)("div",{className:"voteSectionSkeleton",children:Object(a.jsx)(c,{type:"genericBrickStyles md"})}),Object(a.jsxs)("div",{className:"bodySectionSkeleton",children:[i(5),Object(a.jsx)(o,{type:"btn-skeleton-sm"})]})]}));return e}},133:function(e,t,n){},46:function(e,t,n){"use strict";var a=n(113);var r=n.n(a).a.create({baseURL:"https://comment.geeksforgeeks.org/api/"});r.defaults.withCredentials=!0;t.a=r},48:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return y}));var a=n(43),r=n.n(a),c=n(44),i=n(46),s=n(58),o=n.n(s);function u(e,t,n,a,r,c){return i.a.post("/comment/",{text:e,ancestry:t,post_id:a,domain:decodeURIComponent(n),post_url:r||"https://practice.geeksforgeeks.org",post_title:decodeURIComponent(c)}).then((function(e){return e})).catch((function(e){return Promise.reject(e)}))}function l(e,t,n,a){return i.a.put("/comment/".concat(n,"/"),{field:e,value:t,ancestry:a}).then((function(e){return e})).catch((function(e){return Promise.reject(e)}))}function d(e){return i.a.post("/unspam_comment/".concat(e,"/"),{}).then((function(e){return e})).catch((function(e){return Promise.reject(e)}))}function m(e){return i.a.post("/undelete_comment/".concat(e,"/"),{}).then((function(e){return e})).catch((function(e){return e}))}function f(e,t,n,a,r,c,i){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(r.a.mark((function e(t,n,a,c,s,o,u){var l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={sort_by:t,ancestry:s,order_by:n},c&&Object.keys(c).length>0&&(l.last_evaluated_key=JSON.stringify(c)),o&&(l.fetch_by=o),u&&(l.domain=u),e.next=6,i.a.get("comment/".concat(a,"/"),{params:l}).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("getUserInfo/",{}).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("vote/",{params:{comment_id:t}}).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n,a,r,c){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(r.a.mark((function e(t,n,a,c,s,u){var l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l={domain:t,filter_by:n,order_by:a,last_evaluated_key:c}).from_timestamp=o()(s).format("YYYY-MM-DD HH:mm:ss"),l.to_timestamp=o()(u).format("YYYY-MM-DD HH:mm:ss"),e.next=5,i.a.get("filter_comment/",{params:l}).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("total_comments_on_domain/".concat(t,"/"),{}).then((function(e){return e})).catch((function(e){return Promise.reject(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},53:function(e,t,n){"use strict";var a=n(1);t.a=function(e){return Object(a.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show errorMessage p-4 d-flex flex-row align-items-center justify-content-center",role:"alert","data-dismiss":"alert","aria-label":"Close",children:[Object(a.jsx)("p",{children:e.errorMessage}),Object(a.jsx)("button",{type:"button",className:"close p-0 position-relative ml-3","data-dismiss":"alert","aria-label":"Close",onClick:function(){e.handleErrorClose()},children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(43),r=n.n(a),c=n(44),i=n(42),s=n(0),o=n(146),u=n(106),l=n(46),d=n(66),m=(n(62),n(1));d.a.configure();var f=[{text:"HTML",value:"markup"},{text:"CSS",value:"css"},{text:"JavaScript",value:"javascript"},{text:"C",value:"c"},{text:"C++",value:"cpp"},{text:"C#",value:"csharp"},{text:"Java",value:"java"},{text:"Python",value:"python"},{text:"Scala",value:"scala"},{text:"PHP",value:"php"},{text:"Perl",value:"perl"}];function p(e){var t=e.defaultValue,n=e.id,a=e.plugins,r=e.toolbar,c=e.imageUploadHandler,p=e.onEditorChange,h=e.height,b=e.maxHeight,j=e.getRawData,g=e.onReady,v=new URLSearchParams(window.location.search).get("mode"),x=Object(s.useRef)(null),y=Object(s.useState)(!0),O=Object(i.a)(y,2),k=O[0],_=O[1],w=h||100,C=function(e){e.ui.registry.addButton("customimageupload",{icon:"image",tooltip:"Insert Image",onAction:function(){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("multiple",!0),t.setAttribute("accept","image/png, image/jpeg"),t.addEventListener("change",(function(){null!=t.files&&t.files.length>0&&Object.keys(t.files).forEach((function(n){var a=new FileReader;a.onload=function(n){var a;n.target.result.includes("data:image/")?(e.insertContent('<img style="display: block;" src="'.concat(n.target.result,"\" height='100'>")),t.value=""):(a="Failed to upload image.",d.a.error(a,{position:d.a.POSITION.TOP_RIGHT,autoClose:2500}))},a.readAsDataURL(t.files[n])}))})),t.click()}})},S=function(e){e.ui.registry.addAutocompleter("mentions",{ch:"@",minChars:3,columns:1,onAction:function(t,n,a){e.selection.setRng(n);var r='<a class="mention" data-mention="@'+a+'" href="https://auth.geeksforgeeks.org/user/'+a+'/">@'+a+"</a>&nbsp;";e.insertContent(r),t.hide()},fetch:function(e){return new Promise((function(t){!function(e,t){l.a.get("/search_user/".concat(e)).then((function(e){t(e.data)})).catch((function(e){return console.log(e),Promise.reject(e)}))}(e,(function(e){var n=e.map((function(e){return{type:"autocompleteitem",value:e,text:e}}));t(n)}))}))}})};return Object(m.jsxs)(m.Fragment,{children:[k&&Object(m.jsx)(u.b,{}),Object(m.jsx)("div",{style:k?{display:"none"}:{display:"block"},children:Object(m.jsx)(o.a,{apiKey:"en8qt9p6q2y14k8r1clpmnmrdy0wgvaz500e72kcdv7tdhb1",onInit:function(e,t){_(!1),x.current=t,g(x.current)},initialValue:t||"",init:{height:h,menubar:!1,branding:!1,statusbar:!1,resize:!0,plugins:a,toolbar:r,mobile:{toolbar_mode:"wrap"},autoresize_bottom_margin:0,max_height:b,min_height:w,codesample_languages:f,images_upload_credentials:!0,default_link_target:"_blank",target_list:!1,skin:"dark"===v?"oxide-dark":"",content_css:"dark"===v?"dark":"",setup:function(e){c&&C(e),S(e),e.on("BeforeExecCommand",(function(t){var n;"mceInsertContent"===t.command&&(null===t||void 0===t||null===(n=t.value)||void 0===n?void 0:n.includes('<pre id="__new" class="language'))&&(t.preventDefault(),e.insertContent("".concat(null===t||void 0===t?void 0:t.value.replace('id="__new"',""),"<p></p>")))}))},images_upload_handler:function(e,t,n){c&&c(e,t,n)}},onEditorChange:function(e,t){var a=t.getContent({format:"text"});p(n,j?t.getContent({format:"raw"}):t.getContent(),a)}})})]})}var h={backgroundColor:"#2F8D46"},b={fontFamily:"urw-din",fontSize:"16px",color:"#262932"},j={width:"36px",height:"36px"};function g(e){var t,n=e.saveComment,a=e.closeEditor,o=Object(s.useState)(!1),u=Object(i.a)(o,2),d=u[0],f=u[1],g=Object(s.useState)(""),v=Object(i.a)(g,2),x=v[0],y=v[1],O=Object(s.useState)(e.userData),k=Object(i.a)(O,2),_=k[0],w=k[1],C=Object(s.useState)(),S=Object(i.a)(C,2),N=S[0],P=S[1],D=Object(s.useState)(!1),E=Object(i.a)(D,2),R=E[0],L=E[1];function H(){return(H=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(!0),t.next=3,n(e.commentData);case 3:t.sent&&N.resetContent(),L(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){e.defaultText&&e.defaultText.length>0&&y(e.defaultText)}),[]),Object(s.useEffect)((function(){w(e.userData)}),[e.userData]),Object(s.useEffect)((function(){f(e.disableSubmit)}),[e.disableSubmit]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("section",{children:Object(m.jsxs)("div",{className:"mt-3 ml-15 mr-15",children:[Object(m.jsx)(p,{onReady:function(e){P(e)},defaultValue:x,onEditorChange:e.onEditorChange,plugins:"bold italic link lists blockquote customimageupload undo redo codesample autoresize",toolbar:"bold italic link bullist numlist | blockquote | customimageupload undo redo codesample",imageUploadHandler:function(e,t,n){if(e.blob().size/1e3>2e3)n("Maximum image upload size is: 2 MB",{remove:!0});else{L(!0);var a=new FormData;a.append("image",e.blob(),e.filename()),l.a.post("/upload_image/",a,{headers:{"Content-Type":"multipart/form-data;"}}).then((function(e){var a,r;e.data.status?t(null===(a=e.data)||void 0===a?void 0:a.url):n(null===(r=e.data)||void 0===r?void 0:r.message,{remove:!0}),L(!1)})).catch((function(e){var t=e.response.data.message||"Upload failed";n(t,{remove:!0}),L(!1)}))}},maxheight:e.maxheight,height:e.height}),Object(m.jsxs)("div",{className:"d-flex mt-3 mx-0",children:[Object(m.jsx)("div",{className:"col-sm-6 d-none d-sm-block p-0",children:Object(m.jsxs)("div",{className:"d-flex align-items-center mx-0",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("img",{style:j,className:"rounded-circle img-fluid",src:_.profile_image_url,alt:"avatar"})}),Object(m.jsx)("div",{className:"ml-2 curr-user-name",children:Object(m.jsxs)("span",{style:b,className:"text-secondary sofia-pro float-left",children:["Commenting as: ",_.handle," "]})})]})}),Object(m.jsxs)("div",{className:"col-sm-6 px-0",children:[Object(m.jsx)("button",{disabled:!e.commentData||d||(null===(t=e.commentData)||void 0===t?void 0:t.includes('<img src="data:'))||R,style:h,onClick:function(){!function(){H.apply(this,arguments)}()},className:"btn btn-sm btn-success float-right sofia-pro h-100",children:R?"Loading...":"Submit"}),e.cancel&&Object(m.jsx)("button",{onClick:function(){a()},className:"btn btn-sm btn-secondary btn-blue float-right sofia-pro mr-2 h-100",children:"Cancel"})]})]})]})})})}},89:function(e,t,n){}}]);
//# sourceMappingURL=1.e52fcc45.chunk.js.map